webpackJsonp([1],{"/yRs":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=(n=r("8ebl")).default||n,i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vue-street-view-pano-container"},[t("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var a=r("VU/8")(s,i,!1,function(e){r("CjMs")},null,null);t.default=a.exports},"03eN":function(e,t){},"1/oy":function(e,t){},"5ZbH":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=(n=r("hOwk")).default||n,i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vue-map-container"},[t("div",{ref:"vue-map",staticClass:"vue-map"}),this._v(" "),t("div",{staticClass:"vue-map-hidden"},[this._t("default")],2),this._v(" "),this._t("visible")],2)},staticRenderFns:[]};var a=r("VU/8")(s,i,!1,function(e){r("dtWn")},null,null);t.default=a.exports},"5cLx":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=(n=r("WgA/")).default||n,i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"flyaway"},[this._t("default")],2)])},staticRenderFns:[]},a=r("VU/8")(s,i,!1,null,null,null);t.default=a.exports},"9M+g":function(e,t){},CjMs:function(e,t){},FNl8:function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};r.d(n,"dark",function(){return w}),r.d(n,"grayscale",function(){return b}),r.d(n,"red",function(){return T}),r.d(n,"green",function(){return _}),r.d(n,"blue",function(){return C}),r.d(n,"madhouse",function(){return S});var s=r("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{class:{"custom-marker":this.map},style:{height:this.height+"px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 211 778.83"}},[t("path",{attrs:{fill:this.color.fill,id:"Background_Fill",d:"M197.89,631.91,113.94,764.19a10,10,0,0,1-16.89,0L13.11,631.91A20,20,0,0,1,10,621.19V15a5,5,0,0,1,5-5H196a5,5,0,0,1,5,5V621.19A20,20,0,0,1,197.89,631.91Z"}}),this._v(" "),t("path",{attrs:{id:"Logo",d:"M201,211.35v288.3c-6.88,5.73-14.28,8.85-22,8.85-36.17,0-65.5-68.5-65.5-153s29.33-153,65.5-153C186.72,202.5,194.12,205.62,201,211.35Z"}}),this._v(" "),t("path",{attrs:{id:"Label",d:"M9.5,105.5v494h192v-494ZM201,499.65c-6.88,5.73-14.28,8.85-22,8.85-36.17,0-65.5-68.5-65.5-153s29.33-153,65.5-153c7.72,0,15.12,3.12,22,8.85Z"}}),this._v(" "),t("path",{attrs:{fill:this.color.stroke,id:"Outline",d:"M196,0H15A15,15,0,0,0,0,15V621.19a30,30,0,0,0,4.67,16.07L88.61,769.55a20,20,0,0,0,33.78,0l83.94-132.29A30,30,0,0,0,211,621.19V15A15,15,0,0,0,196,0Zm-5,494.62a22.16,22.16,0,0,1-12,3.88c-26.25,0-55.5-58.73-55.5-143s29.25-143,55.5-143a22.16,22.16,0,0,1,12,3.88ZM20,20H191V95.5H20ZM191,621.19a10,10,0,0,1-1.56,5.36L105.5,758.84,21.56,626.55A10,10,0,0,1,20,621.19V609.5H191Zm0-31.69H20v-474H191v78.89a39,39,0,0,0-12-1.89c-21.75,0-41.46,18.07-55.51,50.88-12.89,30.11-20,69.93-20,112.12s7.1,82,20,112.12c14,32.81,33.76,50.88,55.51,50.88a39,39,0,0,0,12-1.89Z"}})])},staticRenderFns:[]};var a=r("VU/8")({name:"TheCrayon",props:["hue","height","map"],computed:{color:function(){return{fill:"hsl("+this.hue+", 100%, 50%)",stroke:"hsl("+this.hue+", 50%, 20%)"}}}},i,!1,function(e){r("FNl8")},null,null).exports,o=r("XaHv"),l=r.n(o),c=r("HFPT"),u=r.n(c),p={name:"TheModal",components:{TheCrayon:a,ColorPicker:l.a},data:function(){return{addName:"",addLat:"",addLng:"",addLocation:"",addColor:{hue:Math.floor(360*Math.random()),saturation:100,luminosity:50,alpha:1},validPlace:!1}},methods:{closeModal:function(){this.$refs.markerAdd.hide()},submitMarker:function(){document.querySelector(".place-input").setCustomValidity(""),this.validPlace?(this.$store.dispatch("addViewer",{name:this.addName,position:{lat:parseFloat(this.addLat),lng:parseFloat(this.addLng)},hue:this.addColor.hue,location:this.addLocation}),this.closeModal(),this.validPlace=!1):document.querySelector(".place-input").setCustomValidity("Invalid place! Please use the dropdown to select your location.")},resetModal:function(){this.addName="",this.addLat="",this.addLng="",this.addColor.hue=Math.floor(360*Math.random()),this.addLocation="",document.querySelector(".place-input").value=""},setPlace:function(e){var t={};e.address_components.forEach(function(e){t[e.types[0]]={long_name:e.long_name,short_name:e.short_name}});var r=t.country.short_name,n=u.a.countries[r].continent;t.continent={long_name:u.a.continents[n],short_name:n},this.addLat=e.geometry.location.lat(),this.addLng=e.geometry.location.lng(),this.addLocation={name:e.name,address_formatted:e.formatted_address,address_components:t},this.validPlace=!0},changeAutocomplete:function(e){document.querySelector(".place-input").setCustomValidity(""),this.validPlace=!1}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{ref:"markerAdd",attrs:{id:"markerAdd",title:"Add New Marker","hide-footer":"","header-bg-variant":"light"},on:{hidden:e.resetModal}},[r("b-form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.submitMarker(t)}}},[r("b-form-group",{attrs:{id:"twitchIDInputGroup",label:"Twitch ID:",horizontal:""}},[r("b-form-input",{attrs:{id:"twitchIDInput",required:"",placeholder:"Enter Twitch ID..."},model:{value:e.addName,callback:function(t){e.addName=t},expression:"addName"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"posInputGroup",label:"Location:",horizontal:""}},[r("GmapAutocomplete",{staticClass:"form-control place-input",attrs:{types:["(cities)"]},on:{place_changed:e.setPlace},nativeOn:{input:function(t){return e.changeAutocomplete(t)}}})],1),e._v(" "),r("b-form-group",{attrs:{id:"twitchIDInputGroup",label:"Hue:"}}),e._v(" "),r("b-row",{staticClass:"form-row mb-2"},[r("b-col",{staticClass:"col-sm-3 col-form-label d-flex justify-content-center align-items-center"},[r("the-crayon",{attrs:{hue:e.addColor.hue,height:"200"}})],1),e._v(" "),r("b-col",{staticClass:"col-sm-9 d-flex justify-content-center"},[r("color-picker",{model:{value:e.addColor,callback:function(t){e.addColor=t},expression:"addColor"}})],1)],1),e._v(" "),r("div",{staticClass:"d-flex flex-row-reverse"},[r("b-button",{staticClass:"ml-2",attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),e._v(" "),r("b-button",{on:{click:e.closeModal}},[e._v("Cancel")])],1)],1)],1)},staticRenderFns:[]},m=r("VU/8")(p,d,!1,null,null,null).exports,f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{staticClass:"h-100 rounded-0",attrs:{"no-body":""}},[r("b-card-header",{staticClass:"pl-2"},[!1===e.showSettings?r("h2",{staticClass:"m-0 text-nowrap"},[e._v("Viewers")]):e._e(),e._v(" "),!0===e.showSettings?r("h2",{staticClass:"m-0"},[e._v("Settings")]):e._e()]),e._v(" "),!1===e.showSettings?r("b-card-body",{staticClass:"p-0 flex-grow-0"},[r("b-list-group",{staticClass:"p-2"},[r("b-input-group",[r("b-form-input",{staticClass:"filter-input",attrs:{placeholder:"Filter..."},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),r("b-input-group-append",[r("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"sort-button",attrs:{id:"sortButton",variant:"outline-secondary",title:"Sort"}},[r("font-awesome-icon",{attrs:{icon:"layer-group"}})],1),e._v(" "),r("b-popover",{attrs:{target:"sortButton",placement:"bottomleft",title:"Sort Options",triggers:"focus"}},[r("b-btn-group",{attrs:{vertical:""}},[r("b-btn",{on:{click:e.changeSort}},[e._v("Name")]),e._v(" "),r("b-btn",{on:{click:e.changeSort}},[e._v("Date")]),e._v(" "),r("b-btn",{on:{click:e.changeSort}},[e._v("Country")]),e._v(" "),r("b-btn",{on:{click:e.changeSort}},[e._v("Continent")])],1)],1)],1)],1)],1)],1):e._e(),e._v(" "),!1===e.showSettings?r("b-card-body",{staticClass:"p-0",staticStyle:{overflow:"auto"}},[r("b-list-group",{staticClass:"sidebar-content viewer-list h-100",attrs:{flush:""}},e._l(e.viewers,function(t){return r("b-list-group-item",{key:t.id,staticClass:"d-flex justify-content-between align-items-center p-1 pl-3",attrs:{button:"",variant:e.seenViewers.includes(t.id)?"default":"danger"},on:{click:function(r){e.clickMarker(t)}}},[e._v("\n        "+e._s(t.name)+"\n        "),r("div",{staticClass:"d-flex mr-1"},[r("b-badge",{staticClass:"mr-1",style:{visibility:e.seenViewers.includes(t.id)?"hidden":"visible"}},[e._v("NEW")]),e._v(" "),r("flag",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{id:"flag-"+t.id,iso:t.location.address_components.country.short_name}}),e._v(" "),r("b-tooltip",{attrs:{target:"flag-"+t.id,boundary:"window"}},[e._v("\n            "+e._s(t.location.address_components.country.long_name+("Continent"==e.viewersSort.type?" - "+t.location.address_components.continent.long_name:""))+"\n          ")])],1)])}))],1):e._e(),e._v(" "),!0===e.showSettings?r("b-card-body",{staticClass:"p-2"},[r("b-form",[r("b-form-group",{staticClass:"mb-1",attrs:{label:"Map Type:","label-class":"text-nowrap"}},[r("b-select",{attrs:{options:e.mapTypes},model:{value:e.mapSettingsType,callback:function(t){e.mapSettingsType=t},expression:"mapSettingsType"}})],1),e._v(" "),r("b-form-group",{staticClass:"mb-1",attrs:{label:"Map Style:","label-class":"text-nowrap"}},[r("b-select",{attrs:{options:e.mapStyles},model:{value:e.mapSettingsStyle,callback:function(t){e.mapSettingsStyle=t},expression:"mapSettingsStyle"}})],1)],1),e._v(" "),r("b-button",{staticClass:"d-flex mx-auto",attrs:{variant:"success"},on:{click:e.markAllSeen}},[e._v("Mark All As Seen")])],1):e._e(),e._v(" "),r("b-card-footer",[r("div",{staticClass:"d-flex justify-content-between"},[r("p",{staticClass:"m-0 font-weight-bold"},[e._v("Viewers: "+e._s(e.viewers.length))]),e._v(" "),e.numNew>0?r("b-badge",{staticClass:"num-new"},[e._v(e._s(e.numNew)+" NEW")]):e._e()],1)]),e._v(" "),r("b-card-footer",[r("div",{staticClass:"d-flex"},[r("b-btn-group",{staticClass:"mx-auto"},[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.markerAdd",modifiers:{markerAdd:!0}}],attrs:{variant:"primary"}},[e._v("Add Marker")]),e._v(" "),r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.showMap?"View Data":"View Map",disabled:""},on:{click:e.toggleMap}},[!0===e.showMap?r("font-awesome-icon",{attrs:{icon:"database","fixed-width":""}}):e._e(),e._v(" "),!1===e.showMap?r("font-awesome-icon",{attrs:{icon:"map-marked-alt","fixed-width":""}}):e._e()],1),e._v(" "),r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.showSettings?"Viewers":"Settings"},on:{click:function(t){e.showSettings=!e.showSettings}}},[!1===e.showSettings?r("font-awesome-icon",{attrs:{icon:"cog","fixed-width":""}}):e._e(),e._v(" "),!0===e.showSettings?r("font-awesome-icon",{attrs:{icon:"users","fixed-width":""}}):e._e()],1)],1)],1)])],1)},staticRenderFns:[]};var y=r("VU/8")({name:"TheSidebar",data:function(){return{showSettings:!1,showMap:!0,mapTypes:[{value:"roadmap",text:"Roadmap"},{value:"terrain",text:"Terrain"},{value:"hybrid",text:"Hybrid"}],mapStyles:[{value:null,text:"Default"},{value:"dark",text:"Dark"},{value:"grayscale",text:"Grayscale"},{value:"red",text:"Red"},{value:"green",text:"Green"},{value:"blue",text:"Blue"},{value:"madhouse",text:"The Madhouse"}],sortOptions:{Name:"name",Date:"created_at",Country:"location.address_components.country.long_name",Continent:"location.address_components.continent.long_name"}}},methods:{clickMarker:function(e){this.seenViewers.includes(e.id)||this.$store.commit("markSeenViewer",e.id),this.$store.commit("openInfoWin",e),this.$store.commit("updateMapCenter",e.position),this.$store.commit("updateMapZoom",8),this.$store.commit("increaseZIndex")},markAllSeen:function(){var e=this;this.viewers.forEach(function(t){var r=t.id;e.seenViewers.includes(r)||e.$store.commit("markSeenViewer",r)})},toggleMap:function(){this.showMap=!this.showMap,this.$emit("mapToggle",this.showMap)},changeSort:function(e){var t=e.target.innerText;this.$store.commit("changeviewersSort",{type:t,field:this.sortOptions[t]})}},computed:{viewers:function(){return this.$store.getters.getViewersFilter},filterText:{get:function(){return this.$store.state.viewersFilterText},set:function(e){this.$store.commit("closeInfoWin"),this.$store.commit("updateViewersFilter",e)}},mapSettingsType:{get:function(){return this.$store.getters.getMapSettings.type},set:function(e){this.$store.commit("updateMapType",e)}},mapSettingsStyle:{get:function(){return this.$store.getters.getMapSettings.style},set:function(e){this.$store.commit("updateMapStyle",e)}},viewersSort:function(){return this.$store.getters.getviewersSort},seenViewers:function(){return this.$store.getters.getSeenViewers},numNew:function(){var e=0;for(var t in this.viewers)this.seenViewers.includes(this.viewers[t].id)||e++;return e},infoWin:function(){return this.$store.getter.getInfoWin}}},f,!1,function(e){r("cnEE")},null,null).exports,h=r("sA6N"),v={mixins:[h.MapElementMixin],props:["marker"],watch:{marker:function(e){var t=this;this.$mapPromise.then(function(e){return t.$overlay.setPosition()})}},provide:function(){var e=this;this.$mapPromise.then(function(t){return e.$overlay=e.initOverlay(t)})},computed:{bounds:function(){var e=parseFloat(this.marker.latitude),t=parseFloat(this.marker.longitude);return new google.maps.LatLngBounds(new google.maps.LatLng(e,t),new google.maps.LatLng(e+.01,t+.01))},position:function(){var e=this;return{lat:function(){return parseFloat(e.marker.latitude)},lng:function(){return parseFloat(e.marker.longitude)}}}},destroyed:function(){this.$overlay.setMap(null),this.$overlay=void 0},methods:{initOverlay:function(e){var t=this;function r(e){var r=this;this.setMap(e);var n=function(){if(r.getProjection()&&r._div){var e=r.getProjection().fromLatLngToDivPixel(t.position),n=Math.round(e.x-r._div.offsetWidth/2),s=Math.round(e.y-r._div.offsetHeight-10);r._div.style.left=n+"px",r._div.style.top=s+"px"}};this.draw=n,this.setPosition=n}return r.prototype=new google.maps.OverlayView,r.prototype.onAdd=function(){var e=t.$el;e.style.position="absolute",e.style.display="inline-block",e.style.zIndex=1e3,this._div=e,this.visible=!0;var r=this.getPanes();r.overlayLayer.appendChild(e),r.overlayMouseTarget.appendChild(e)},r.prototype.onRemove=function(){this._div.remove(),this._div=void 0},new r(e)}}},g={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._t("default")],2)},staticRenderFns:[]},w=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}],b=[{featureType:"administrative",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:-100},{lightness:"50"},{visibility:"simplified"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"all",stylers:[{lightness:"30"}]},{featureType:"road.local",elementType:"all",stylers:[{lightness:"40"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]},{featureType:"water",elementType:"labels",stylers:[{lightness:-25},{saturation:-100}]}],T=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#6f3e3e"},{weight:2},{gamma:.84}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{weight:.6},{color:"#1a3541"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#712c2c"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#804040"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#712c2c"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#8a2929"},{lightness:-37}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#804040"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#411919"}]}],_=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#3e6f40"},{weight:2},{gamma:.84}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{weight:.6},{color:"#1a411c"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#356233"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#40804f"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#36653c"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#376d2f"},{lightness:-37}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#446d4b"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#1c341c"}]}],C=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#3e606f"},{weight:2},{gamma:.84}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{weight:.6},{color:"#1a3541"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#2c5a71"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#406d80"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#2c5a71"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#29768a"},{lightness:-37}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#406d80"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#193341"}]}],S=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#181818"},{weight:2},{gamma:.84}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{weight:.6},{color:"#daf600"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#c35bc7"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#0b9aa6"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#61b1e8"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ff0404"},{lightness:-37}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#ff9200"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#2eb92e"}]}],x={name:"TheMap",components:{GmapCustomMarker:r("VU/8")(v,g,!1,null,null,null).exports,TheCrayon:a},data:function(){return{tempCenter:null,tempZoom:null,clusterObject:null}},mounted:function(){this.$nextTick(function(){var e=this;this.$refs.cluster.$clusterPromise.then(function(){e.clusterObject=e.$refs.cluster.$clusterObject})})},watch:{"clusterObject.clusters_":{handler:function(e){this.$store.commit("updateClusters",e)}}},computed:{mapView:function(){return this.$store.getters.getMapView},mapSettings:function(){return this.$store.getters.getMapSettings},mapStyle:function(){return n[this.$store.getters.getMapSettings.style]},viewers:function(){return this.$store.getters.getViewersFilter},seenViewers:function(){return this.$store.getters.getSeenViewers},infoWin:function(){return this.$store.getters.getInfoWin},topZIndex:function(){return this.$store.getters.getTopZIndex},clusterInfo:function(){return this.$store.getters.getClusterInfo}},methods:{clickMarker:function(e){this.seenViewers.includes(e.id)||this.$store.commit("markSeenViewer",e.id),this.$store.commit("openInfoWin",e),this.tempCenter=e.position,this.tempZoom=8,this.updateMapCenter(),this.zoomChange()},centerChange:function(e){this.tempCenter={lat:e.lat(),lng:e.lng()}},updateMapCenter:function(){this.$store.commit("updateMapCenter",this.tempCenter)},zoomChange:function(e){this.$store.commit("updateMapZoom",e||this.tempZoom)}}},k={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("GmapMap",{staticStyle:{height:"100%"},attrs:{center:e.mapView.center,zoom:e.mapView.zoom,"map-type-id":e.mapSettings.type,options:{maxZoom:21,minZoom:2,disableDefaultUI:!0,zoomControl:!0,styles:e.mapStyle}},on:{center_changed:e.centerChange,dragend:e.updateMapCenter,zoom_changed:e.zoomChange}},[r("GmapInfoWindow",{attrs:{options:{pixelOffset:{width:0,height:-35}},position:e.infoWin.pos,opened:e.infoWin.open},on:{closeclick:function(t){e.$store.commit("closeInfoWin")}}},[r("h6",[e._v(e._s(e.infoWin.content.name))]),e._v(" "),r("p",{staticClass:"m-0"},[e._v(e._s(e.infoWin.content.place))])]),e._v(" "),e._l(e.viewers,function(t){return r("gmap-custom-marker",{key:t.id,style:{zIndex:e.infoWin.markerID==t.id?2e4:1e4},attrs:{marker:{latitude:t.position.lat,longitude:t.position.lng}},nativeOn:{click:function(r){e.clickMarker(t)}}},[r("the-crayon",{attrs:{hue:t.hue,height:"40",map:!0}})],1)}),e._v(" "),r("GmapCluster",{ref:"cluster",attrs:{gridSize:4}},e._l(e.viewers,function(e){return r("gmap-marker",{key:e.id,attrs:{position:e.position,visible:!1,label:e.id}})}))],2)},staticRenderFns:[]};var M={name:"App",components:{TheModal:m,TheSidebar:y,TheMap:r("VU/8")(x,k,!1,function(e){r("hhWL")},null,null).exports},data:function(){return{showMap:!0}},methods:{test:function(e){this.showMap=e}}},I={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"map"},[r("the-modal"),e._v(" "),e.showMap?r("the-map"):e._e()],1),e._v(" "),r("div",{staticClass:"sidebar"},[r("the-sidebar",{on:{mapToggle:function(t){e.test(t)}}})],1)])},staticRenderFns:[]};var V=r("VU/8")(M,I,!1,function(e){r("Rzz3")},null,null).exports,$=r("mvHQ"),F=r.n($),W=r("NYxO"),L=r("Dd8w"),A=r.n(L),N=r("yviF"),P=r.n(N);r("881v");P.a.initializeApp({projectId:"reninsane-viewer-1536928769661",databaseURL:"https://reninsane-viewer-1536928769661.firebaseio.com"});var Z=P.a.firestore();Z.settings({timestampsInSnapshots:!0});var D=Z.collection("viewers");function O(){D.orderBy(z?z.getters.getviewersSort.field:"name","asc").onSnapshot(function(e){var t=[];e.forEach(function(e){t.push(A()({id:e.id},e.data()))}),z.commit("watchViewers",t)})}O();var E=function(e){return D.add(A()({created_at:P.a.firestore.FieldValue.serverTimestamp()},e))},j=function(){O()};s.a.use(W.a);var z=new W.a.Store({strict:!0,state:{viewers:[],viewersFilterText:"",viewersSort:{type:"Name",field:"name"},seenViewers:localStorage.seenViewers?JSON.parse(localStorage.seenViewers):[],mapView:{center:{lat:0,lng:0},zoom:2},mapSettings:{type:localStorage.mapType||"terrain",style:localStorage.mapStyle||"null"},infoWin:{open:!1,pos:null,content:{name:"",place:""},markerID:""},topZIndex:2e4,clusters:"",clusteredMarkers:{},clusterInfo:{isClustered:!1,clusterID:null,nextInCluster:null,prevInCluster:null}},mutations:{watchViewers:function(e,t){e.viewers=t},updateViewersFilter:function(e,t){e.viewersFilterText=t},changeviewersSort:function(e,t){e.viewersSort=t,j()},markSeenViewer:function(e,t){e.seenViewers.push(t),localStorage.seenViewers=F()(e.seenViewers)},updateMapCenter:function(e,t){e.mapView.center=t},updateMapZoom:function(e,t){e.mapView.zoom=t},updateMapType:function(e,t){e.mapSettings.type=t,localStorage.mapType=t},updateMapStyle:function(e,t){e.mapSettings.style=t,localStorage.mapStyle=t},openInfoWin:function(e,t){e.infoWin={open:!0,pos:t.position,content:{name:t.name,place:t.location.address_formatted},markerID:t.id},!0===e.infoWin.open&&e.clusteredMarkers.hasOwnProperty(e.infoWin.markerID)?e.clusterInfo={isClustered:!0,clusterID:e.clusteredMarkers[e.infoWin.markerID],nextInCluster:"",prevInCluster:""}:e.clusterInfo={isClustered:!1,clusterID:null,nextInCluster:null,prevInCluster:null}},closeInfoWin:function(e){e.infoWin={open:!1,pos:null,content:{name:"",place:""},markerID:""},e.clusterInfo={isClustered:null,clusterID:null,nextInCluster:null,prevInCluster:null}},increaseZIndex:function(e){e.topZIndex++},updateClusters:function(e,t){var r=t.filter(function(e){return e.markers_.length>1}).map(function(e){return e.markers_.map(function(e){return e.label})});e.clusters=r;var n={};for(var s in r)for(var i in r[s]){n[r[s][i]]=s}e.clusteredMarkers=n,!0===e.infoWin.open&&e.clusteredMarkers.hasOwnProperty(e.infoWin.markerID)&&(e.clusterInfo={isClustered:!0,clusterID:e.clusteredMarkers[e.infoWin.markerID],nextInCluster:"",prevInCluster:""})}},actions:{addViewer:function(e,t){E(t)}},getters:{getViewers:function(e){return e.viewers},getViewersFilter:function(e){return e.viewers.filter(function(t){return t.name.toLowerCase().includes(e.viewersFilterText.toLowerCase())})},getviewersSort:function(e){return e.viewersSort},getSeenViewers:function(e){return e.seenViewers},getMapView:function(e){return e.mapView},getMapSettings:function(e){return e.mapSettings},getInfoWin:function(e){return e.infoWin},getTopZIndex:function(e){return e.topZIndex},getClusterInfo:function(e){return e.clusterInfo}}}),R=r("ZfXC"),H=r.n(R),U=r("e6fC"),G=(r("Jmt5"),r("9M+g"),r("C/JF")),B=r("fhbW"),q=r("U0v6"),J=(r("pJU2"),r("StEu"));s.a.use(h,{load:{key:"AIzaSyAmMKjssfQopkPVynR2S9Otwhc0AuLgM7c",libraries:"places"}}),s.a.component("GmapCluster",H.a),s.a.use(U.a),G.library.add(B.c,B.g,B.d,B.f,B.e,B.b,B.a),s.a.component("font-awesome-icon",q.FontAwesomeIcon),s.a.use(J.a),s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:V},store:z,template:"<App/>"})},OlBK:function(e,t){},Rzz3:function(e,t){},T5eZ:function(e,t,r){"use strict";var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("label",[t("span",{domProps:{textContent:this._s(this.label)}}),this._v(" "),t("input",{ref:"input",class:this.className,attrs:{type:"text",placeholder:this.placeholder}})])},staticRenderFns:[]};t.a=n},YI6p:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("jIen"),s=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,function(){return n[e]})}(i);var a=r("T5eZ"),o=r("VU/8")(s.a,a.a,!1,null,null,null);t.default=o.exports},cnEE:function(e,t){},dtWn:function(e,t){},hhWL:function(e,t){},pJU2:function(e,t){},preG:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=(n=r("hQTS")).default||n,i={render:function(){var e=this.$createElement;return(this._self._c||e)("input",{ref:"input",attrs:{type:"text",placeholder:this.placeholder},domProps:{value:this.value}})},staticRenderFns:[]},a=r("VU/8")(s,i,!1,null,null,null);t.default=a.exports},scIF:function(e,t,r){"use strict";var n={name:"flag",props:{iso:{type:String,default:null},squared:{type:Boolean,default:!0}},computed:{flagIconClass:function(){return(this.squared?"flag-icon-squared ":"")+"flag-icon-"+this.iso.toLowerCase()}}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return this.iso?t("span",{staticClass:"flag-icon",class:this.flagIconClass}):this._e()},staticRenderFns:[]};var i=r("VU/8")(n,s,!1,function(e){r("03eN")},null,null);t.a=i.exports},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.35bf1545488fdc1b3b3a.js.map