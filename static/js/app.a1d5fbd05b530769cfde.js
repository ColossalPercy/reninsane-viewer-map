webpackJsonp([1],{"/yRs":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n("8ebl")).default||r,s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vue-street-view-pano-container"},[t("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var a=n("VU/8")(i,s,!1,function(e){n("CjMs")},null,null);t.default=a.exports},"1/oy":function(e,t){},"14X/":function(e,t){},"5ZbH":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n("hOwk")).default||r,s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vue-map-container"},[t("div",{ref:"vue-map",staticClass:"vue-map"}),this._v(" "),t("div",{staticClass:"vue-map-hidden"},[this._t("default")],2),this._v(" "),this._t("visible")],2)},staticRenderFns:[]};var a=n("VU/8")(i,s,!1,function(e){n("dtWn")},null,null);t.default=a.exports},"5cLx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n("WgA/")).default||r,s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"flyaway"},[this._t("default")],2)])},staticRenderFns:[]},a=n("VU/8")(i,s,!1,null,null,null);t.default=a.exports},"9M+g":function(e,t){},CjMs:function(e,t){},Efc6:function(e,t){},FNl8:function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};n.d(r,"dark",function(){return A}),n.d(r,"grayscale",function(){return F}),n.d(r,"red",function(){return L}),n.d(r,"green",function(){return W}),n.d(r,"blue",function(){return P}),n.d(r,"madhouse",function(){return N});var i=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{class:{"custom-marker":this.map},style:{height:this.height+"px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 211 778.83"}},[t("path",{attrs:{fill:this.color.fill,id:"Background_Fill",d:"M197.89,631.91,113.94,764.19a10,10,0,0,1-16.89,0L13.11,631.91A20,20,0,0,1,10,621.19V15a5,5,0,0,1,5-5H196a5,5,0,0,1,5,5V621.19A20,20,0,0,1,197.89,631.91Z"}}),this._v(" "),t("path",{attrs:{id:"Logo",d:"M201,211.35v288.3c-6.88,5.73-14.28,8.85-22,8.85-36.17,0-65.5-68.5-65.5-153s29.33-153,65.5-153C186.72,202.5,194.12,205.62,201,211.35Z"}}),this._v(" "),t("path",{attrs:{id:"Label",d:"M9.5,105.5v494h192v-494ZM201,499.65c-6.88,5.73-14.28,8.85-22,8.85-36.17,0-65.5-68.5-65.5-153s29.33-153,65.5-153c7.72,0,15.12,3.12,22,8.85Z"}}),this._v(" "),t("path",{attrs:{fill:this.color.stroke,id:"Outline",d:"M196,0H15A15,15,0,0,0,0,15V621.19a30,30,0,0,0,4.67,16.07L88.61,769.55a20,20,0,0,0,33.78,0l83.94-132.29A30,30,0,0,0,211,621.19V15A15,15,0,0,0,196,0Zm-5,494.62a22.16,22.16,0,0,1-12,3.88c-26.25,0-55.5-58.73-55.5-143s29.25-143,55.5-143a22.16,22.16,0,0,1,12,3.88ZM20,20H191V95.5H20ZM191,621.19a10,10,0,0,1-1.56,5.36L105.5,758.84,21.56,626.55A10,10,0,0,1,20,621.19V609.5H191Zm0-31.69H20v-474H191v78.89a39,39,0,0,0-12-1.89c-21.75,0-41.46,18.07-55.51,50.88-12.89,30.11-20,69.93-20,112.12s7.1,82,20,112.12c14,32.81,33.76,50.88,55.51,50.88a39,39,0,0,0,12-1.89Z"}})])},staticRenderFns:[]};var a=n("VU/8")({name:"TheCrayon",props:["hue","height","map"],computed:{color:function(){return{fill:"hsl("+this.hue+", 100%, 50%)",stroke:"hsl("+this.hue+", 50%, 20%)"}}}},s,!1,function(e){n("FNl8")},null,null).exports,o=n("XaHv"),l=n.n(o),c=n("HFPT"),u=n.n(c),d={name:"MarkerModal",components:{TheCrayon:a,ColorPicker:l.a},data:function(){return{addName:"",addLat:"",addLng:"",addLocation:"",addColor:{hue:Math.floor(360*Math.random()),saturation:100,luminosity:50,alpha:1},validPlace:!1}},methods:{closeModal:function(){this.$refs.markerAdd.hide()},submitMarker:function(){document.querySelector(".place-input").setCustomValidity(""),this.validPlace?(this.$store.dispatch("addViewer",{name:this.addName,position:{lat:parseFloat(this.addLat),lng:parseFloat(this.addLng)},hue:this.addColor.hue,location:this.addLocation}),this.closeModal(),this.validPlace=!1):document.querySelector(".place-input").setCustomValidity("Invalid place! Please use the dropdown to select your location.")},resetModal:function(){this.addName="",this.addLat="",this.addLng="",this.addColor.hue=Math.floor(360*Math.random()),this.addLocation="",document.querySelector(".place-input").value=""},setPlace:function(e){var t={};e.address_components.forEach(function(e){t[e.types[0]]={long_name:e.long_name,short_name:e.short_name}});var n=t.country.short_name,r=u.a.countries[n].continent;t.continent={long_name:u.a.continents[r],short_name:r},this.addLat=e.geometry.location.lat(),this.addLng=e.geometry.location.lng(),this.addLocation={name:e.name,address_formatted:e.formatted_address,address_components:t},this.validPlace=!0},changeAutocomplete:function(e){document.querySelector(".place-input").setCustomValidity(""),this.validPlace=!1}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{ref:"markerAdd",attrs:{id:"markerAdd",title:"Add New Marker","hide-footer":"","header-bg-variant":"light"},on:{hidden:e.resetModal}},[n("b-form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.submitMarker(t)}}},[n("b-form-group",{attrs:{id:"twitchIDInputGroup",label:"Twitch ID:",horizontal:""}},[n("b-form-input",{attrs:{id:"twitchIDInput",required:"",placeholder:"Enter Twitch ID..."},model:{value:e.addName,callback:function(t){e.addName=t},expression:"addName"}})],1),e._v(" "),n("b-form-group",{attrs:{id:"posInputGroup",label:"Location:",horizontal:""}},[n("GmapAutocomplete",{staticClass:"form-control place-input",attrs:{types:["(cities)"]},on:{place_changed:e.setPlace},nativeOn:{input:function(t){return e.changeAutocomplete(t)}}})],1),e._v(" "),n("b-form-group",{attrs:{id:"hueInputGroup",label:"Hue:"}}),e._v(" "),n("b-row",{staticClass:"form-row mb-2"},[n("b-col",{staticClass:"col-sm-3 col-form-label d-flex justify-content-center align-items-center"},[n("the-crayon",{attrs:{hue:e.addColor.hue,height:"200"}})],1),e._v(" "),n("b-col",{staticClass:"col-sm-9 d-flex justify-content-center"},[n("color-picker",{model:{value:e.addColor,callback:function(t){e.addColor=t},expression:"addColor"}})],1)],1),e._v(" "),n("div",{staticClass:"d-flex flex-row-reverse"},[n("b-button",{staticClass:"ml-2",attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),e._v(" "),n("b-button",{on:{click:e.closeModal}},[e._v("Cancel")])],1)],1)],1)},staticRenderFns:[]},m=n("VU/8")(d,p,!1,null,null,null).exports,f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{ref:"adminLogin",attrs:{id:"adminLogin",title:"Admin Login","hide-footer":"","header-bg-variant":"light"},on:{hidden:e.modalHidden}},[e.admin?e._e():n("b-form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("b-form-group",{attrs:{id:"adminEmailGroup",label:"Email:",horizontal:""}},[n("b-form-input",{attrs:{id:"adminEmailInput",required:"",type:"email",placeholder:"Enter email..."},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),n("b-form-group",{attrs:{id:"adminPasswordGroup",label:"Passowrd:",horizontal:""}},[n("b-form-input",{attrs:{id:"adminPasswordInput",required:"",type:"password",placeholder:"Enter password..."},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),n("div",{staticClass:"d-flex flex-row-reverse"},[n("b-button",{staticClass:"ml-2",attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),e._v(" "),n("b-button",{on:{click:e.closeModal}},[e._v("Cancel")])],1)],1),e._v(" "),e.admin?n("p",[e._v("Succesfully logged in as admin!")]):e._e()],1)},staticRenderFns:[]},y=n("VU/8")({name:"LoginModal",data:function(){return{email:"",password:""}},methods:{closeModal:function(){this.$refs.adminLogin.hide()},login:function(){this.$store.dispatch("login",{email:this.email,password:this.password})},modalHidden:function(){this.email="",this.password=""}},computed:{admin:function(){return this.$store.getters.getAdmin}}},f,!1,null,null,null).exports,h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{staticClass:"h-100 rounded-0",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"pl-2"},[!1===e.showSettings?n("h2",{staticClass:"m-0 text-nowrap"},[e._v("Viewers")]):e._e(),e._v(" "),!0===e.showSettings?n("h2",{staticClass:"m-0"},[e._v("Settings")]):e._e()]),e._v(" "),!1===e.showSettings?n("b-card-body",{staticClass:"p-0 flex-grow-0"},[n("b-list-group",{staticClass:"p-2"},[n("b-input-group",[n("b-form-input",{staticClass:"filter-input",attrs:{placeholder:"Filter..."},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"sort-button",attrs:{id:"sortButton",variant:"outline-secondary",title:"Sort"}},[n("font-awesome-icon",{attrs:{icon:"layer-group"}})],1),e._v(" "),n("b-popover",{attrs:{target:"sortButton",placement:"bottomleft",title:"Sort Options",triggers:"focus"}},[n("b-btn-group",{attrs:{vertical:""}},[n("b-btn",{on:{click:e.changeSort}},[e._v("Name")]),e._v(" "),n("b-btn",{on:{click:e.changeSort}},[e._v("Date")]),e._v(" "),n("b-btn",{on:{click:e.changeSort}},[e._v("Country")]),e._v(" "),n("b-btn",{on:{click:e.changeSort}},[e._v("Continent")])],1)],1)],1)],1)],1)],1):e._e(),e._v(" "),!1===e.showSettings?n("b-card-body",{staticClass:"p-0",staticStyle:{overflow:"auto"}},[n("b-list-group",{staticClass:"sidebar-content viewer-list h-100",attrs:{flush:""}},e._l(e.viewers,function(t){return n("b-list-group-item",{key:t.id,staticClass:"d-flex justify-content-between align-items-center p-1 pl-3",attrs:{button:"",variant:e.seenViewers.includes(t.id)?"default":"danger"},on:{click:function(n){e.clickMarker(t)}}},[e._v("\n        "+e._s(t.name)+"\n        "),n("div",{staticClass:"d-flex mr-1"},[n("b-badge",{staticClass:"mr-1",style:{visibility:e.seenViewers.includes(t.id)?"hidden":"visible"}},[e._v("NEW")]),e._v(" "),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:e.flagClass(t.location.address_components.country.short_name),attrs:{id:"flag-"+t.id}}),e._v(" "),n("b-tooltip",{attrs:{target:"flag-"+t.id,boundary:"window"}},[e._v("\n            "+e._s(t.location.address_components.country.long_name+("Continent"==e.viewersSort.type?" - "+t.location.address_components.continent.long_name:""))+"\n          ")])],1)])}))],1):e._e(),e._v(" "),!0===e.showSettings?n("b-card-body",{staticClass:"p-2"},[n("b-form",[n("b-form-group",{staticClass:"mb-1",attrs:{label:"Map Type:","label-class":"text-nowrap"}},[n("b-select",{attrs:{options:e.mapTypes},model:{value:e.mapSettingsType,callback:function(t){e.mapSettingsType=t},expression:"mapSettingsType"}})],1),e._v(" "),n("b-form-group",{staticClass:"mb-1",attrs:{label:"Map Style:","label-class":"text-nowrap"}},[n("b-select",{attrs:{options:e.mapStyles},model:{value:e.mapSettingsStyle,callback:function(t){e.mapSettingsStyle=t},expression:"mapSettingsStyle"}})],1)],1),e._v(" "),n("b-button",{staticClass:"d-flex mx-auto",attrs:{variant:"success"},on:{click:e.markAllSeen}},[e._v("Mark All As Seen")]),e._v(" "),e.admin?e._e():n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.adminLogin",modifiers:{adminLogin:!0}}],staticClass:"d-flex mx-auto mt-1",attrs:{variant:"danger"}},[e._v("Admin Login")]),e._v(" "),e.admin?n("b-button",{staticClass:"d-flex mx-auto mt-1",attrs:{variant:"danger"},on:{click:e.adminLogout}},[e._v("Admin Logout")]):e._e()],1):e._e(),e._v(" "),n("b-card-footer",[n("div",{staticClass:"d-flex justify-content-between"},[n("p",{staticClass:"m-0 font-weight-bold"},[e._v("Viewers: "+e._s(e.viewers.length))]),e._v(" "),e.numNew>0?n("b-badge",{staticClass:"num-new"},[e._v(e._s(e.numNew)+" NEW")]):e._e()],1)]),e._v(" "),n("b-card-footer",[n("div",{staticClass:"d-flex"},[n("b-btn-group",{staticClass:"mx-auto"},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.markerAdd",modifiers:{markerAdd:!0}}],attrs:{variant:"primary",disabled:!e.showMap}},[e._v("Add Marker")]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"info",title:e.showMap?"View Data":"View Map"},on:{click:e.toggleMap}},[!0===e.showMap?n("font-awesome-icon",{attrs:{icon:"database","fixed-width":""}}):e._e(),e._v(" "),!1===e.showMap?n("font-awesome-icon",{attrs:{icon:"map-marked-alt","fixed-width":""}}):e._e()],1),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.showSettings?"Viewers":"Settings"},on:{click:function(t){e.showSettings=!e.showSettings}}},[!1===e.showSettings?n("font-awesome-icon",{attrs:{icon:"cog","fixed-width":""}}):e._e(),e._v(" "),!0===e.showSettings?n("font-awesome-icon",{attrs:{icon:"users","fixed-width":""}}):e._e()],1)],1)],1)])],1)},staticRenderFns:[]};var g=n("VU/8")({name:"TheSidebar",data:function(){return{showSettings:!1,mapTypes:[{value:"roadmap",text:"Roadmap"},{value:"terrain",text:"Terrain"},{value:"hybrid",text:"Hybrid"}],mapStyles:[{value:null,text:"Default"},{value:"dark",text:"Dark"},{value:"grayscale",text:"Grayscale"},{value:"red",text:"Red"},{value:"green",text:"Green"},{value:"blue",text:"Blue"},{value:"madhouse",text:"The Madhouse"}],sortOptions:{Name:"name",Date:"created_at",Country:"location.address_components.country.long_name",Continent:"location.address_components.continent.long_name"}}},methods:{clickMarker:function(e){this.seenViewers.includes(e.id)||this.$store.commit("markSeenViewer",e.id),this.$store.commit("openInfoWin",e),this.$store.commit("updateMapCenter",e.position),this.$store.commit("updateMapZoom",8),this.$store.commit("increaseZIndex")},markAllSeen:function(){var e=this;this.viewers.forEach(function(t){var n=t.id;e.seenViewers.includes(n)||e.$store.commit("markSeenViewer",n)})},toggleMap:function(){this.$store.commit("toggleMap")},changeSort:function(e){var t=e.target.innerText;this.$store.commit("changeviewersSort",{type:t,field:this.sortOptions[t]})},adminLogout:function(){this.$store.dispatch("logout")},flagClass:function(e){return"flag-icon flag-icon-squared flag-icon-"+e.toLowerCase()}},computed:{viewers:function(){return this.$store.getters.getViewersFilter},filterText:{get:function(){return this.$store.state.viewersFilterText},set:function(e){this.$store.commit("closeInfoWin"),this.$store.commit("updateViewersFilter",e)}},mapSettingsType:{get:function(){return this.$store.getters.getMapSettings.type},set:function(e){this.$store.commit("updateMapType",e)}},mapSettingsStyle:{get:function(){return this.$store.getters.getMapSettings.style},set:function(e){this.$store.commit("updateMapStyle",e)}},viewersSort:function(){return this.$store.getters.getviewersSort},seenViewers:function(){return this.$store.getters.getSeenViewers},numNew:function(){var e=0;for(var t in this.viewers)this.seenViewers.includes(this.viewers[t].id)||e++;return e},infoWin:function(){return this.$store.getters.getInfoWin},showMap:function(){return this.$store.getters.getShowMap},admin:function(){return this.$store.getters.getAdmin}}},h,!1,function(e){n("Efc6")},null,null).exports,v=n("Zx67"),b=n.n(v),w=n("Zrlr"),_=n.n(w),T=n("wxAW"),k=n.n(T),C=n("zwoO"),x=n.n(C),S=n("Pf15"),M=n.n(S),V=n("sA6N"),I={mixins:[V.MapElementMixin],props:{delayRepaint:{type:Number,default:void 0},marker:{type:Object,default:void 0},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},alignment:{type:String,default:"top"}},data:function(){return{opacity:.01}},watch:{marker:function(e){var t=this;this.$mapPromise.then(function(e){return t.$overlay.setPosition()})}},provide:function(){var e=this,t=this;this.$mapPromise.then(function(n){var r=function(e){function n(e){_()(this,n);var t=x()(this,(n.__proto__||b()(n)).call(this));return t.setMap(e),t.draw=function(){return t.repaint()},t.setPosition=function(){return t.repaint()},t}return M()(n,e),k()(n,[{key:"repaint",value:function(){var e=t.$el,n=this.getProjection();if(n&&e){var r=n.fromLatLngToDivPixel(t.position),i=void 0,s=void 0;switch(t.alignment){case"top":i=r.x-e.offsetWidth/2,s=r.y-e.offsetHeight;break;case"bottom":i=r.x-e.offsetWidth/2,s=r.y;break;case"left":i=r.x-e.offsetWidth,s=r.y-e.offsetHeight/2;break;case"right":i=r.x,s=r.y-e.offsetHeight/2;break;case"center":i=r.x-e.offsetWidth/2,s=r.y-e.offsetHeight/2;break;case"topleft":case"lefttop":i=r.x-e.offsetWidth,s=r.y-e.offsetHeight;break;case"topright":case"righttop":i=r.x,s=r.y-e.offsetHeight;break;case"bottomleft":case"leftop":i=r.x-e.offsetWidth,s=r.y;break;case"bottomright":case"rightbottom":i=r.x,s=r.y;break;default:throw new Error("Invalid alignment type of custom marker!")}e.style.left=i+t.offsetX+"px",e.style.top=s+t.offsetY+"px"}}},{key:"onAdd",value:function(){var e=t.$el,n=this.getPanes();e.style.position="absolute",e.style.display="inline-block",e.style.zIndex=50,n.overlayLayer.appendChild(e),n.overlayMouseTarget.appendChild(e)}},{key:"onRemove",value:function(){t.$el.remove()}}]),n}(google.maps.OverlayView);e.$overlay=new r(n),e.delayRepaint?setTimeout(function(){e.$overlay.repaint(),e.opacity=1},e.delayRepaint):e.opacity=1})},computed:{lat:function(){return parseFloat(this.marker.lat||this.marker.latitude)},lng:function(){return parseFloat(this.marker.lng||this.marker.longitude)},position:function(){var e=this;return{lat:function(){return e.lat},lng:function(){return e.lng}}}},destroyed:function(){this.$overlay.setMap(null),this.$overlay=void 0}},$={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{style:{opacity:this.opacity}},[this._t("default")],2)},staticRenderFns:[]},A=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}],F=[{featureType:"administrative",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:-100},{lightness:"50"},{visibility:"simplified"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"all",stylers:[{lightness:"30"}]},{featureType:"road.local",elementType:"all",stylers:[{lightness:"40"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]},{featureType:"water",elementType:"labels",stylers:[{lightness:-25},{saturation:-100}]}],L=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#6f3e3e"},{weight:2},{gamma:.84}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{weight:.6},{color:"#1a3541"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#712c2c"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#804040"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#712c2c"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#8a2929"},{lightness:-37}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#804040"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#411919"}]}],W=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#3e6f40"},{weight:2},{gamma:.84}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{weight:.6},{color:"#1a411c"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#356233"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#40804f"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#36653c"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#376d2f"},{lightness:-37}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#446d4b"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#1c341c"}]}],P=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#3e606f"},{weight:2},{gamma:.84}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{weight:.6},{color:"#1a3541"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#2c5a71"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#406d80"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#2c5a71"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#29768a"},{lightness:-37}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#406d80"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#193341"}]}],N=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#181818"},{weight:2},{gamma:.84}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{weight:.6},{color:"#daf600"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#c35bc7"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#0b9aa6"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#61b1e8"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ff0404"},{lightness:-37}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#ff9200"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#2eb92e"}]}],D={name:"TheMap",components:{GmapCustomMarker:n("VU/8")(I,$,!1,null,null,null).exports,TheCrayon:a},data:function(){return{tempCenter:null,tempZoom:null,clusterObject:null}},mounted:function(){this.$nextTick(function(){var e=this;this.$refs.cluster.$clusterPromise.then(function(){e.clusterObject=e.$refs.cluster.$clusterObject})})},watch:{"clusterObject.clusters_":{handler:function(e){this.$store.commit("updateClusters",e)}}},computed:{mapView:function(){return this.$store.getters.getMapView},mapSettings:function(){return this.$store.getters.getMapSettings},mapStyle:function(){return r[this.$store.getters.getMapSettings.style]},viewers:function(){return this.$store.getters.getViewersFilter},seenViewers:function(){return this.$store.getters.getSeenViewers},infoWin:function(){return this.$store.getters.getInfoWin},topZIndex:function(){return this.$store.getters.getTopZIndex},clusterInfo:function(){return this.$store.getters.getClusterInfo}},methods:{clickMarker:function(e){this.seenViewers.includes(e.id)||this.$store.commit("markSeenViewer",e.id),this.$store.commit("openInfoWin",e),this.tempCenter=e.position,this.tempZoom=8,this.updateMapCenter(),this.zoomChange()},centerChange:function(e){this.tempCenter={lat:e.lat(),lng:e.lng()}},updateMapCenter:function(){this.$store.commit("updateMapCenter",this.tempCenter)},zoomChange:function(e){this.$store.commit("updateMapZoom",e||this.tempZoom)}}},O={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("GmapMap",{staticStyle:{height:"100%"},attrs:{center:e.mapView.center,zoom:e.mapView.zoom,"map-type-id":e.mapSettings.type,options:{maxZoom:10,minZoom:2,disableDefaultUI:!0,zoomControl:!0,styles:e.mapStyle}},on:{center_changed:e.centerChange,dragend:e.updateMapCenter,zoom_changed:e.zoomChange}},[n("GmapInfoWindow",{attrs:{options:{pixelOffset:{width:0,height:-35}},position:e.infoWin.pos,opened:e.infoWin.open},on:{closeclick:function(t){e.$store.commit("closeInfoWin")}}},[n("h6",[e._v(e._s(e.infoWin.content.name))]),e._v(" "),n("p",{staticClass:"m-0"},[e._v(e._s(e.infoWin.content.place))])]),e._v(" "),e._l(e.viewers,function(t){return n("gmap-custom-marker",{key:t.id,style:{zIndex:e.infoWin.markerID==t.id?2e4:1e4},attrs:{marker:{latitude:t.position.lat,longitude:t.position.lng}},nativeOn:{click:function(n){e.clickMarker(t)}}},[n("the-crayon",{attrs:{hue:t.hue,height:"40",map:!0}})],1)}),e._v(" "),n("GmapCluster",{ref:"cluster",attrs:{gridSize:4}},e._l(e.viewers,function(e){return n("gmap-marker",{key:e.id,attrs:{position:e.position,visible:!1,label:e.id}})}))],2)},staticRenderFns:[]};var Z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table h-100"},[n("b-card",{staticClass:"h-100 rounded-0 border-right-0",attrs:{"no-body":""}},[n("b-card-header",{},[n("h2",{staticClass:"m-0"},[e._v("Viewers Table")])]),e._v(" "),n("b-card-body",{staticClass:"p-0",staticStyle:{overflow:"auto"}},[n("b-table",{attrs:{hover:"",fixed:"","head-variant":"light",items:e.viewers,fields:e.admin?e.adminFields:e.userFields},scopedSlots:e._u([{key:"location.address_components.country.long_name",fn:function(t){return[n("div",{staticClass:"d-flex justify-content-between align-items-center"},[e._v("\n            "+e._s(t.item.location.address_components.country.long_name)+"\n            "),n("flag",{attrs:{iso:t.item.location.address_components.country.short_name}})],1)]}},{key:"created_at",fn:function(t){return[e._v("\n          "+e._s(t.item.created_at.toDate().toLocaleDateString("en-gb",e.dateOptions))+"\n        ")]}},{key:"hue",fn:function(t){return[n("div",{staticClass:"color-block",style:{backgroundColor:"hsl("+t.item.hue+", 100%, 50%)"}},[e._v("\n            "+e._s(t.item.hue)+"\n          ")])]}},{key:"id",fn:function(t){return[n("b-button",{attrs:{size:"",variant:"danger"},on:{click:function(n){e.deleteViewer(t.item.id)}}},[e._v("Delete Viewer")])]}}])})],1)],1)],1)},staticRenderFns:[]};var E={name:"App",components:{MarkerModal:m,LoginModal:y,TheSidebar:g,TheMap:n("VU/8")(D,O,!1,function(e){n("qNMy")},null,null).exports,TheTable:n("VU/8")({name:"TheTable",data:function(){return{userFields:[{key:"name",sortable:!0},{key:"location.address_components.country.long_name",label:"Country",sortable:!1},{key:"location.address_components.continent.long_name",label:"Continent",sortable:!1},{key:"created_at",sortable:!0},{key:"hue",sortable:!0,tdClass:"hue-cell"}],dateOptions:{year:"numeric",month:"short",day:"numeric"}}},computed:{viewers:function(){return this.$store.getters.getViewers},adminFields:function(){var e=this.userFields;return e.push({key:"id",label:"Delete",sortable:!1,tdClass:"delete-cell"}),e},admin:function(){return this.$store.getters.getAdmin}},methods:{deleteViewer:function(e){this.$store.dispatch("deleteViewer",e)}}},Z,!1,function(e){n("14X/")},null,null).exports},computed:{showMap:function(){return this.$store.getters.getShowMap}}},j={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"main"},[n("marker-modal"),e._v(" "),n("login-modal"),e._v(" "),!0===e.showMap?n("the-map"):e._e(),e._v(" "),!1===e.showMap?n("the-table"):e._e()],1),e._v(" "),n("div",{staticClass:"sidebar"},[n("the-sidebar")],1)])},staticRenderFns:[]};var H=n("VU/8")(E,j,!1,function(e){n("wplo")},null,null).exports,R=n("mvHQ"),z=n.n(R),U=n("NYxO"),G=n("Dd8w"),q=n.n(G),B=n("yviF"),J=n.n(B);n("881v"),n("dih4");J.a.initializeApp({apiKey:"AIzaSyAmMKjssfQopkPVynR2S9Otwhc0AuLgM7c",projectId:"reninsane-viewer-1536928769661",databaseURL:"https://reninsane-viewer-1536928769661.firebaseio.com"});var X=J.a.firestore();X.settings({timestampsInSnapshots:!0});var K=X.collection("viewers");function Q(){K.orderBy(ee?ee.getters.getviewersSort.field:"name","asc").onSnapshot(function(e){var t=[];e.forEach(function(e){t.push(q()({id:e.id},e.data()))}),ee.commit("watchViewers",t)})}Q(),J.a.auth().onAuthStateChanged(function(e){e?ee.commit("updateAdmin",!0):ee.commit("updateAdmin",!1)});var Y={addViewer:function(e){return K.add(q()({created_at:J.a.firestore.FieldValue.serverTimestamp()},e))},deleteViewer:function(e){return K.doc(e).delete().then(function(){console.log("Document successfully deleted!")}).catch(function(e){console.error("Error removing document: ",e)})},newFeedSort:function(){Q()},login:function(e,t){J.a.auth().signInWithEmailAndPassword(e,t).catch(function(e){"auth/wrong-password"!==e.code&&"auth/user-not-found"!==e.code||alert("The email or password provided is incorrect.")})},logout:function(){J.a.auth().signOut().then(function(){ee.commit("updateAdmin",!1)})}};i.a.use(U.a);var ee=new U.a.Store({strict:!0,state:{viewers:[],viewersFilterText:"",viewersSort:{type:"Name",field:"name"},seenViewers:localStorage.seenViewers?JSON.parse(localStorage.seenViewers):[],mapView:{center:{lat:0,lng:0},zoom:2},mapSettings:{type:localStorage.mapType||"terrain",style:localStorage.mapStyle||"null"},infoWin:{open:!1,pos:null,content:{name:"",place:""},markerID:""},topZIndex:2e4,clusters:"",clusteredMarkers:{},clusterInfo:{isClustered:!1,clusterID:null,nextInCluster:null,prevInCluster:null},showMap:!0,admin:!1,user:{}},mutations:{watchViewers:function(e,t){e.viewers=t},updateViewersFilter:function(e,t){e.viewersFilterText=t},changeviewersSort:function(e,t){e.viewersSort=t,Y.newFeedSort()},markSeenViewer:function(e,t){e.seenViewers.push(t),localStorage.seenViewers=z()(e.seenViewers)},updateMapCenter:function(e,t){e.mapView.center=t},updateMapZoom:function(e,t){e.mapView.zoom=t},updateMapType:function(e,t){e.mapSettings.type=t,localStorage.mapType=t},updateMapStyle:function(e,t){e.mapSettings.style=t,localStorage.mapStyle=t},openInfoWin:function(e,t){e.infoWin={open:!0,pos:t.position,content:{name:t.name,place:t.location.address_formatted},markerID:t.id},!0===e.infoWin.open&&e.clusteredMarkers.hasOwnProperty(e.infoWin.markerID)?e.clusterInfo={isClustered:!0,clusterID:e.clusteredMarkers[e.infoWin.markerID],nextInCluster:"",prevInCluster:""}:e.clusterInfo={isClustered:!1,clusterID:null,nextInCluster:null,prevInCluster:null}},closeInfoWin:function(e){e.infoWin={open:!1,pos:null,content:{name:"",place:""},markerID:""},e.clusterInfo={isClustered:null,clusterID:null,nextInCluster:null,prevInCluster:null}},increaseZIndex:function(e){e.topZIndex++},updateClusters:function(e,t){var n=t.filter(function(e){return e.markers_.length>1}).map(function(e){return e.markers_.map(function(e){return e.label})});e.clusters=n;var r={};for(var i in n)for(var s in n[i]){r[n[i][s]]=i}e.clusteredMarkers=r,!0===e.infoWin.open&&e.clusteredMarkers.hasOwnProperty(e.infoWin.markerID)&&(e.clusterInfo={isClustered:!0,clusterID:e.clusteredMarkers[e.infoWin.markerID],nextInCluster:"",prevInCluster:""})},toggleMap:function(e){e.showMap=!e.showMap},hideTable:function(e){e.showMap=!0},updateAdmin:function(e,t){e.admin=t}},actions:{addViewer:function(e,t){Y.addViewer(t)},deleteViewer:function(e,t){Y.deleteViewer(t)},login:function(e,t){var n=t.email,r=t.password;Y.login(n,r)},logout:function(e){Y.logout()}},getters:{getViewers:function(e){return e.viewers},getViewersFilter:function(e){return e.viewers.filter(function(t){return t.name.toLowerCase().includes(e.viewersFilterText.toLowerCase())})},getviewersSort:function(e){return e.viewersSort},getSeenViewers:function(e){return e.seenViewers},getMapView:function(e){return e.mapView},getMapSettings:function(e){return e.mapSettings},getInfoWin:function(e){return e.infoWin},getTopZIndex:function(e){return e.topZIndex},getClusterInfo:function(e){return e.clusterInfo},getShowMap:function(e){return e.showMap},getAdmin:function(e){return e.admin}}}),te=n("ZfXC"),ne=n.n(te),re=n("e6fC"),ie=(n("Jmt5"),n("9M+g"),n("C/JF")),se=n("fhbW"),ae=n("U0v6");n("pJU2"),n("OlBK");i.a.use(V,{load:{key:"AIzaSyAmMKjssfQopkPVynR2S9Otwhc0AuLgM7c",libraries:"places"}}),i.a.component("GmapCluster",ne.a),i.a.use(re.a),ie.library.add(se.a,se.e,se.b,se.d,se.c),i.a.component("font-awesome-icon",ae.FontAwesomeIcon),i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:H},store:ee,template:"<App/>"})},OlBK:function(e,t){},T5eZ:function(e,t,n){"use strict";var r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("label",[t("span",{domProps:{textContent:this._s(this.label)}}),this._v(" "),t("input",{ref:"input",class:this.className,attrs:{type:"text",placeholder:this.placeholder}})])},staticRenderFns:[]};t.a=r},YI6p:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("jIen"),i=n.n(r);for(var s in r)"default"!==s&&function(e){n.d(t,e,function(){return r[e]})}(s);var a=n("T5eZ"),o=n("VU/8")(i.a,a.a,!1,null,null,null);t.default=o.exports},dtWn:function(e,t){},pJU2:function(e,t){},preG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n("hQTS")).default||r,s={render:function(){var e=this.$createElement;return(this._self._c||e)("input",{ref:"input",attrs:{type:"text",placeholder:this.placeholder},domProps:{value:this.value}})},staticRenderFns:[]},a=n("VU/8")(i,s,!1,null,null,null);t.default=a.exports},qNMy:function(e,t){},wplo:function(e,t){},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a1d5fbd05b530769cfde.js.map